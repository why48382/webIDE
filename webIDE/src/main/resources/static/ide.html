<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Code Editor</title>
    <!-- Monaco Editor 라이브러리 로드 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.21.2/min/vs/loader.js"></script>
</head>
<body>
<h1>Online Code Editor</h1>

<!-- Select box to choose file extension -->
<label for="file-extension">Choose a file extension:</label>
<select id="file-extension">
    <option value="plaintext">Select file extension</option>
    <option value="js">.js (JavaScript)</option>
    <option value="py">.py (Python)</option>
    <option value="java">.java (Java)</option>
    <option value="cpp">.cpp (C++)</option>
    <option value="c">.c (C)</option>
    <!-- 필요한 확장자를 추가할 수 있습니다. -->
</select>

<!-- Monaco Editor container -->
<div id="editor" style="width:800px; height:600px; border:1px solid #ccc;"></div>

<script>
    // Monaco Editor를 로드합니다.
    require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.21.2/min/vs' }});
    require(['vs/editor/editor.main'], function() {
        // 에디터 초기화
        let editor = monaco.editor.create(document.getElementById('editor'), {
            value: '// Write your code here',
            language: 'plaintext',  // 기본 언어는 'plaintext'로 설정
            theme: 'vs-dark'        // 테마는 어두운 테마 사용
        });

        // Select box에서 파일 확장자가 변경되면 에디터 언어 변경
        document.getElementById('file-extension').addEventListener('change', function(event) {
            // 선택된 파일 확장자를 가져옴
            let selectedExtension = event.target.value;

            // 확장자에 따라 Monaco Editor에서 사용하는 언어로 매핑
            let extensionToLanguageMap = {
                'js': 'javascript',
                'py': 'python',
                'java': 'java',
                'cpp': 'cpp',
                'c': 'c'
            };

            // 선택된 확장자에 맞는 언어를 설정, 없으면 'plaintext'로 설정
            let language = extensionToLanguageMap[selectedExtension] || 'plaintext';
            monaco.editor.setModelLanguage(editor.getModel(), language);
        });
    });
</script>
</body>
</html>
